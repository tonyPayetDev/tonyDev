function datatableSaiyan(e){function a(){table.on("xhr",function(){editorS={fields:[]};var e=table.ajax.json();console.log(e),cpt=0,obj2=e.data[0],fieldsContext=jsonParse.fields,options="";try{$.each(fieldsContext,function(a,t){t.type||u.add({label:t.label,name:t.name}),("select"==t.type||"radio"==t.type||"checkbox"==t.type||"date"==t.type)&&u.add({label:t.label,name:t.name,type:t.type,def:function(){return new Date},dateFormat:"D, d M y"}),"manyTomany"==t.type&&(console.log(t),$.each(e.options,function(e,a){t.name==e&&(u.add({label:t.label+" ",name:e+" ",type:"title"}),$.each(a,function(a,t){console.log(e+"."+t.name),u.add({label:t.label,name:e+"s."+t.name,type:"saiyan"})}),i(e))}))})}catch(a){}})}function t(){dom=jsonParse.dom?dom:"",jsonParse.title||(title=""),jsonParse.idsaiyan||r("veuillez saisir id  pour la page "+id),jsonParse.fields||r("veuillez saisir field  pour la page "+id),jsonParse.fields[0]||r("veuillez saisir un champs name dans fields pour l'id "+id),$.each(jsonParse.fields,function(e,a){jsonParse.fields[e].name||r("veuillez saisir un champs name dans fields "+a.label+" pour l'id "+id),jsonParse.fields[e].label||r("veuillez saisir un champs  label dans fields "+a.name+" pour l'id "+id)}),jsonParse.urlrest||r("veuillez saisir une adresse url rest pour la page "+id),jsonParse.urldata||r("veuillez saisir une adresse data rest pour la page "+id+'<p>  ex: "urldata":"/srv/juridiction/" ')}function n(){$.fn.dataTable.Editor.fieldTypes.title=$.extend(!0,{},$.fn.dataTable.Editor.models.fieldType,{create:function(){return $("<div/>")[0]},get:function(){return""},set:function(){}}),$.fn.dataTable.Editor.fieldTypes.saiyan=$.extend(!0,{},$.fn.dataTable.Editor.models.fieldType,{create:function(e){return e._input=$("<input >").attr($.extend({id:$.fn.dataTable.Editor.safeId(e.id),type:"text"},e.attr||{})),e._input[0]},get:function(e){return e._input.val()},set:function(e,a){e._input.val(a).trigger("change")},enable:function(e){e._input.prop("disabled",!1)},disable:function(e){e._input.prop("disabled",!0)}}),console.log($.fn.dataTable.Editor.fieldTypes.saiyan)}function i(e){$("#table"+id+" tbody").on("click","tr",function(){json=table.ajax.json(this),obj2=table.row(this).data(),u.on("initEdit",function(){$.each(json.options,function(a,t){a==e&&$.each(t,function(e,t){$.each(obj2,function(e,n){e==a&&(console.log(e),$.each(n,function(e,n){n.id==t.name&&u.field(a+"s."+t.name).val(n.value)}))})})})})})}function o(e,a){var t="";console.log(e.fields[0]),$("#"+a).append("<table id='table"+a+"' class='table table-striped table-bordered  display responsive' cellspacing='0' width='100%'></table>"),$.each(e.fields,function(e,a){t=t+" <th>"+a.label+"</th>"}),settings="<thead><"+t+"</thead>",$("#table"+a).append(settings)}function l(e){var a="",t=[],n=0,i={fields:[{label:"",name:"",type:"",options:{options:[]}}],tab:[]};return $.each(e,function(e,o){console.log(o.name),renderColtp=function(e){t="";try{if(e[0].id){t=e,concat=" ";for(var a=0;a<t.length;a++)concat=concat+" "+t[a].id+"  "+t[a].label+"  "+t[a].value+" <p>";t=concat}else t=e}catch(n){}return t},i.tab[n]={data:o.name,render:renderColtp},a="",n++}),i}function s(){return u=new $.fn.dataTable.Editor({data:"",ajax:{create:{type:"POST",url:urlrest+"/_id_"},edit:{type:"PUT",url:urlrest+"/_id_"},remove:{type:"DELETE",url:urlrest+"/_id_"}},table:"#table"+id})}function d(){var e=$("#table"+id).DataTable({processing:!0,serverSide:!0,dom:dom,ajax:{url:urldata,dataSrc:function(e){return e.data}},columns:json.tab,tableTools:{sRowSelect:"os",aButtons:[{sExtends:"editor_create",editor:u},{sExtends:"editor_edit",editor:u},{sExtends:"editor_remove",editor:u}]}});return e}function r(e){var a='<a id="settings" href="#changeSkin" data-toggle="modal" ><i class="fa fa-gear"></i> Change Skin</a><div class="modal  " id="a" ><div class= " modal-dialog modal-lg  "><div class="modal-content "><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" >&times;</button><h4 class="modal-title ">Erreur </h4></div><div class="modal-body bg-danger  "><div class="row template-skins"><div class=" text-center  "><p  class="text-center ">'+e+"</p></div> </div></div></div></div></div></div>";$("body").prepend(a),$("#a").modal(),$("body").click(function(){$("#a").modal()})}function c(){function e(e){var a=null;if(document.cookie&&""!=document.cookie)for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var i=jQuery.trim(t[n]);if(i.substring(0,e.length+1)==e+"="){a=decodeURIComponent(i.substring(e.length+1));break}}return a}$.ajaxSetup({beforeSend:function(a){a.setRequestHeader("X-CSRFToken",e("csrftoken"))}})}var u;jsonParse=JSON.parse(e),id=jsonParse.idsaiyan,urldata=jsonParse.urldata,urlrest=jsonParse.urlrest,dom=jsonParse.dom,title=jsonParse.title,col=jsonParse.col,t(),o(jsonParse,id),json=l(jsonParse.fields),c(),u=s(urlrest),table=d(),a(),n()}